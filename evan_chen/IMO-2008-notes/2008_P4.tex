\textsl{Available online at \url{https://aops.com/community/p1191683}.}
\begin{mdframed}[style=mdpurplebox,frametitle={Problem statement}]
Find all functions $f$ from the positive reals to the positive reals such that
\[ \frac{f(w)^2 + f(x)^2}{f(y^2)+f(z^2)} = \frac{w^2+x^2}{y^2+z^2} \]
for all positive real numbers $w$, $x$, $y$, $z$ satisfying $wx=yz$.
\end{mdframed}
The answers are $f(x) \equiv x$ and $f(x) \equiv 1/x$.
These work, so we show they are the only ones.

First, setting $(t,t,t,t)$ gives $f(t^2) = f(t)^2$.
In particular, $f(1) = 1$.
Next, setting $(t, 1, \sqrt t, \sqrt t)$ gives
\[ \frac{f(t)^2 + 1}{2f(t)} = \frac{t^2 + 1}{2t} \]
which as a quadratic implies $f(t) \in \{t, 1/t\}$.

Now assume $f(a) = a$ and $f(b) = 1/b$.
Setting $(\sqrt a, \sqrt b, 1, \sqrt{ab})$ gives
\[ \frac{a + 1/b}{f(ab) + 1} = \frac{a+b}{ab+1}. \]
One can check the two cases on $f(ab)$ each imply
$a=1$ and $b=1$ respectively.
Hence the only answers are those claimed.
\pagebreak